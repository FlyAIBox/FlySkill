# 后端/服务端任务澄清模板

适用于 API 开发、数据库操作、后端逻辑等任务。

## 核心澄清问题

### 范围与优先级
1. **具体要实现什么功能？**
   - 是新建 API 端点，还是修改现有端点？
   - 涉及哪些业务实体或资源？

2. **功能范围边界**
   - 核心逻辑是什么？
   - 是否需要认证/授权？
   - 哪些功能是必须的，哪些可以后续迭代？

### 技术实现
1. **技术栈选择**
   - 使用什么语言和框架（Node.js/Express、Python/FastAPI、Java/Spring 等）？
   - 使用什么数据库？
   - 是否需要使用 ORM？

2. **API 设计选项**
   - RESTful vs GraphQL vs gRPC？
   - 请求/响应格式偏好（JSON、Protobuf 等）？
   - 是否需要 API 版本控制？

3. **实现方式**
   - 从零开发 vs 扩展现有服务？
   - 单体服务 vs 微服务？
   - 是否需要考虑缓存策略？

### 质量标准
1. **错误处理**
   - 错误码规范是什么？
   - 错误信息格式是什么？
   - 需要记录哪些日志？

2. **数据验证**
   - 请求参数需要哪些验证？
   - 需要防止哪些安全风险（SQL 注入、XSS 等）？

3. **边界条件**
   - 空值/默认值如何处理？
   - 超大数据量如何处理（分页、限流）？
   - 并发冲突如何处理？

### 约束条件
1. **性能要求**
   - 响应时间要求？
   - 并发量要求？
   - 是否需要缓存或异步处理？

2. **安全性**
   - 认证方式（JWT、OAuth、API Key 等）？
   - 权限控制粒度（角色、资源等）？
   - 敏感数据如何处理（加密、脱敏）？

3. **兼容性**
   - 是否需要保持与现有 API 的兼容性？
   - 是否需要考虑向后兼容？

## 常见澄清场景

### 场景 1：API 开发
用户说："创建一个用户管理的 API"

澄清问题：
- 需要支持哪些操作（增删改查）？
- 用户数据包含哪些字段？
- 是否需要分页、排序、筛选？
- 权限控制如何设计（谁能访问哪些数据）？

### 场景 2：数据库操作
用户说："优化这个查询"

澄清问题：
- 当前查询的性能问题是什么（慢、资源占用高）？
- 查询的执行频率如何？
- 是否可以接受数据一致性延迟（考虑缓存）？
- 数据量规模如何？

### 场景 3：认证授权
用户说："添加登录功能"

澄清问题：
- 认证方式（用户名密码、OAuth、第三方登录）？
- 会话管理方式（JWT、Session）？
- Token 过期策略？
- 是否需要多因素认证？
