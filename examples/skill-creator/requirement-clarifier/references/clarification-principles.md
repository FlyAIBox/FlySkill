# 通用澄清原则

本文档提供需求澄清的通用原则和流程。

## 澄清流程

遵循三步骤流程：

### 1. 询问关键问题
根据任务类型选择相应的澄清模板，提出针对性的问题。

### 2. 提供选项让用户选择
对于有多种实现方式的情况，提供清晰的选项说明。

### 3. 生成需求清单让用户确认
总结理解的需求并生成清单，让用户确认或修改。

## 澄清的四个关键方面

### 范围与优先级
- 这个任务的核心目标是什么？
- 哪些功能是必须的，哪些是可选的？
- 最小可行方案（MVP）是什么？
- 是否可以分阶段实现？

### 技术实现
- 是否有特定的技术栈或框架要求？
- 是否有多种实现方式可选？
- 是否需要遵循现有的代码风格或架构模式？
- 是否需要考虑与现有系统的集成？

### 质量标准
- 验收标准是什么？
- 边界条件如何处理？
- 错误处理要求是什么？
- 是否需要测试覆盖？

### 约束条件
- 是否有性能要求（响应时间、内存使用等）？
- 是否有兼容性要求（浏览器、版本等）？
- 是否有安全性考虑？
- 是否有时间或资源约束？

## 何时进行需求澄清

需要进行需求澄清的信号：

1. **需求描述模糊**：用户使用了"改进"、"优化"、"完善"等模糊词汇
2. **存在多种实现方式**：任务可以通过不同技术或架构方案实现
3. **缺少关键细节**：缺少验收标准、边界条件、约束条件等
4. **影响范围不明确**：不清楚改动会影响哪些模块或文件
5. **优先级不清晰**：不清楚哪些功能是必须的，哪些是可选的

## 澄清问题的设计原则

1. **具体化**：将模糊的描述转化为具体的可执行项
2. **结构化**：按逻辑顺序组织问题（范围→实现→质量→约束）
3. **可选择性**：为用户提供清晰的选项，而非开放式问题
4. **有限性**：避免一次提出过多问题，优先澄清最关键的部分

## 需求清单模板

完成澄清后，生成如下格式的需求清单：

```markdown
## 需求确认

### 核心目标
[用户想要达成的目标]

### 实施范围
- [x] 必须完成：[列表]
- [ ] 可选完成：[列表]

### 技术方案
- 选择方案：[方案名称]
- 理由：[简要说明]

### 验收标准
- [ ] [验收标准 1]
- [ ] [验收标准 2]
- [ ] [验收标准 3]

### 约束条件
- [约束 1]
- [约束 2]
```
